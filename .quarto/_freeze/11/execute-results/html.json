{
  "hash": "dd76adf332a7dced70ed4d8faea4cd56",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Gráfico de líneas\"\nauthor: \"Richard Pardes-Espinosa\"\ndata: \"2024-03-20\"\nformat: html\neditor: visual\neditor_options: \n  chunk_output_type: console\ntoc: true\nnumber-sections: true\ncode-fold: show\ncode-summary: \"ver código\"\n---\n\n\n## Importar datos\n\nUsando la función **tibble::tribble** se importa los datos de manera rápida. La base contiene a los tratamientos \n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Cargar librerías \nlibrary(tidyverse)                   \n\n# Llamar datos\ndato <- tibble::tribble(\n             ~Irrigation, ~rep, ~day, ~severity,\n                \"Furrow\",   1L,   0L,      0.01,\n                \"Furrow\",   2L,   0L,      0.01,\n                \"Furrow\",   3L,   0L,      0.01,\n                \"Furrow\",   1L,   7L,      0.04,\n                \"Furrow\",   2L,   7L,      0.04,\n                \"Furrow\",   3L,   7L,      0.04,\n                \"Furrow\",   1L,  14L,       0.1,\n                \"Furrow\",   2L,  14L,       0.1,\n                \"Furrow\",   3L,  14L,      0.11,\n                \"Furrow\",   1L,  21L,      0.11,\n                \"Furrow\",   2L,  21L,       0.1,\n                \"Furrow\",   3L,  21L,       0.1,\n                \"Furrow\",   1L,  28L,      0.15,\n                \"Furrow\",   2L,  28L,      0.17,\n                \"Furrow\",   3L,  28L,      0.15,\n                \"Furrow\",   1L,  35L,      0.18,\n                \"Furrow\",   2L,  35L,      0.19,\n                \"Furrow\",   3L,  35L,      0.19,\n                \"Furrow\",   1L,  42L,      0.34,\n                \"Furrow\",   2L,  42L,      0.38,\n                \"Furrow\",   3L,  42L,      0.34,\n                \"Furrow\",   1L,  49L,      0.38,\n                \"Furrow\",   2L,  49L,      0.39,\n                \"Furrow\",   3L,  49L,      0.38,\n                \"Furrow\",   1L,  56L,       0.4,\n                \"Furrow\",   2L,  56L,      0.41,\n                \"Furrow\",   3L,  56L,      0.43,\n                \"Furrow\",   1L,  63L,      0.46,\n                \"Furrow\",   2L,  63L,      0.46,\n                \"Furrow\",   3L,  63L,      0.43,\n                  \"Drip\",   1L,   0L,      0.01,\n                  \"Drip\",   2L,   0L,      0.01,\n                  \"Drip\",   3L,   0L,      0.01,\n                  \"Drip\",   1L,   7L,      0.03,\n                  \"Drip\",   2L,   7L,      0.04,\n                  \"Drip\",   3L,   7L,      0.04,\n                  \"Drip\",   1L,  14L,      0.11,\n                  \"Drip\",   2L,  14L,      0.11,\n                  \"Drip\",   3L,  14L,       0.1,\n                  \"Drip\",   1L,  21L,      0.13,\n                  \"Drip\",   2L,  21L,      0.12,\n                  \"Drip\",   3L,  21L,       0.1,\n                  \"Drip\",   1L,  28L,      0.16,\n                  \"Drip\",   2L,  28L,      0.15,\n                  \"Drip\",   3L,  28L,      0.15,\n                  \"Drip\",   1L,  35L,      0.18,\n                  \"Drip\",   2L,  35L,      0.19,\n                  \"Drip\",   3L,  35L,      0.17,\n                  \"Drip\",   1L,  42L,       0.3,\n                  \"Drip\",   2L,  42L,      0.33,\n                  \"Drip\",   3L,  42L,      0.34,\n                  \"Drip\",   1L,  49L,      0.33,\n                  \"Drip\",   2L,  49L,      0.37,\n                  \"Drip\",   3L,  49L,      0.37,\n                  \"Drip\",   1L,  56L,      0.39,\n                  \"Drip\",   2L,  56L,      0.46,\n                  \"Drip\",   3L,  56L,      0.41,\n                  \"Drip\",   1L,  63L,      0.43,\n                  \"Drip\",   2L,  63L,      0.43,\n                  \"Drip\",   3L,  63L,      0.43\n             )\ndato\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 60 × 4\n   Irrigation   rep   day severity\n   <chr>      <int> <int>    <dbl>\n 1 Furrow         1     0     0.01\n 2 Furrow         2     0     0.01\n 3 Furrow         3     0     0.01\n 4 Furrow         1     7     0.04\n 5 Furrow         2     7     0.04\n 6 Furrow         3     7     0.04\n 7 Furrow         1    14     0.1 \n 8 Furrow         2    14     0.1 \n 9 Furrow         3    14     0.11\n10 Furrow         1    21     0.11\n# ℹ 50 more rows\n```\n\n\n:::\n:::\n\n\n## Visualización de la data\n\nEste código utiliza el paquete `ggplot2` para analizar y visualizar datos de severidad de la roya del trigo. Primero, se calculan las medias de severidad agrupadas por tipo de riego (`Irrigation`) y día (`day`) del conjunto de datos `dato`, excluyendo la segunda columna. Luego, se crea un gráfico de líneas donde el eje x representa los días y el eje y muestra la severidad media. Las líneas se diferencian por tipo de riego (`Irrigation`) mediante diferentes tipos de línea, y los puntos resaltan las observaciones individuales, también codificados por tipo de riego mediante diferentes formas. Se elimina la guía para las formas, se agregan etiquetas al título, ejes y leyenda, se aplica un tema clásico y se ajusta el tamaño del texto para mejorar la legibilidad de la gráfica.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Cargar librería\nlibrary(ggplot2)\n\n# Medias \nmedias <- dato[,-2] |> \n  group_by(Irrigation, day) |> \n  summarise(mean_severity = mean(severity))\n\n# Crear el gráfico de líneas\nmedias |> \n  ggplot(aes(x = day, \n             y = mean_severity)) +\n  geom_line(aes(linetype = Irrigation), \n            size = 1) +\n  geom_point(aes(shape = Irrigation), \n             size = 3) +\n  guides(shape = FALSE) +  \n  labs(title = \"Severidad de la roya del trigo\",\n       x = \"Días\",\n       y = \"Severidad\",\n       linetype = \"Irrigación\") +\n  theme_classic() +\n  theme(axis.text = element_text(size = 12),\n        axis.title = element_text(size = 14),\n        legend.title = element_text(size = 14),\n        legend.text = element_text(size = 12)) \n```\n\n::: {.cell-output-display}\n![](11_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n\nEl código realiza un análisis de regresión lineal sobre los datos contenidos en el tibble `dato`. Utiliza `ggplot()` para crear un gráfico donde los puntos de datos están dispersos (`geom_jitter()`) según el día y la severidad. Luego, `stat_smooth()` ajusta una línea de regresión lineal (`method = \"lm\"`) con intervalos de confianza (`se = TRUE`), mostrando la relación entre las variables con una línea discontinua de color negro y grosor 1. Se aplica un tema minimalista (`theme_minimal()`) a la trama y se ajustan los tamaños de texto para los ejes y la leyenda para mejorar la legibilidad. Además, utiliza `facet_wrap()` para separar los gráficos según los niveles de la variable \"Irrigation\", lo que permite comparar las relaciones entre día y severidad bajo diferentes condiciones de riego.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Modelos de regresión lineal \ndato |>\n  ggplot(aes(day, \n             severity)) +\n  geom_jitter(size = 2) +\n  stat_smooth(method = \"lm\", \n              se = TRUE, \n              color = \"black\", \n              linetype = \"dashed\", \n              size = 1, \n              formula = y ~ x) +\n  theme_minimal() +\n  theme(axis.text = element_text(size = 12),\n        axis.title = element_text(size = 14),\n        legend.title = element_text(size = 14),\n        legend.text = element_text(size = 12)) +\n  facet_wrap(~Irrigation) \n```\n\n::: {.cell-output-display}\n![](11_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "11_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}